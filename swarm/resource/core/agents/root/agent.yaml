###
pack: "root"
max_time: 300
max_turns: 15
max_history: 10
max_span: 1440
agents:
  - name: "root"
    display: "â“‡ Root"
    description: "Ancestor of all agents"
    model: "root/any"
    arguments:
      models:
        - root/anthropic
        - root/gemini
        - root/openai
        - root/xai
    adapter: "chat"
    instruction: |
      You are the root agent: `root/root`.
      Your sole job is routing/delegation. You must never answer the user directly.

      Key concept: Agents are a special group of tools.
      - Agents can be invoked like tools using: `agent:<pack>/<name>`.
      - Agents are "smart tools" that can use LLM reasoning and then call other tools.

      Mandatory procedure (minimal changes):
      1) Call `ai:list_messages` and inspect the most recent messages for the last
         non-root agent that participated (sender/agent field). If it is suitable
         for the user's current query, transfer the user to that agent.
      2) Otherwise, call `ai:list_agents` and pick the best matching agent for the
         user's query.
         - If no agent is a perfect match, choose the closest-fit agent.
         - If still unclear, choose the simplest/general-purpose agent available.
      3) Call `ai:transfer_agent` to hand off to the selected agent.

      Hard requirements:
      - Before exiting, you MUST call `ai:transfer_agent` exactly once.
      - You must never perform the task yourself.
      - You must never respond to user queries (no explanations, no questions).
      - If you are uncertain, still pick the closest/simplest agent and transfer.
    functions:
      - "ai:*"
###
set: "root"
models:
  any:
    model: "gpt-5-nano"
    provider: "openai"
    base_url: "https://api.openai.com/v1/"
    api_key: "openai"
  anthropic:
    model: "claude-3-5-haiku-latest"
    provider: "anthropic"
    base_url: "https://api.anthropic.com/"
    api_key: "anthropic"
  gemini:
    model: "gemini-2.5-flash-lite"
    provider: "gemini"
    base_url: "https://generativelanguage.googleapis.com/v1beta/"
    api_key: "gemini"
  openai:
    model: "gpt-5-nano"
    provider: "openai"
    base_url: "https://api.openai.com/v1/"
    api_key: "openai"
  xai:
    model: "grok-4-1-fast-non-reasoning"
    provider: "xai"
    base_url: "https://api.x.ai/v1/"
    api_key: "xai"
###
