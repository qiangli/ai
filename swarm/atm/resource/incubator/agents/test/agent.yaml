## agent pack
pack: "test"
model: "default/any"

max_history: 1
max_time: 900

agents:
  - name: "test"
    display: "ðŸš€ Script Test"
    description: |
      Test global envs, agent envs, args, and params.
    # environment var can reference global envs
    # env var is exported
    # equivalent to "sh:set_envs" after applying templates
    environment:
      original_query: "User input: {{.query}}"
      nickname: "Charles"
      city: "SFO"
      zip: 1234567
    # arguments can reference global env (and agent envs)
    # equivalent to command line options.
    arguments:
      home_addr: "Addr: {{.city}} {{.zip}}"
    # no template is allowed for parameters
    # defaults in parameters are passed as default values for the arguments/properties
    # if not set in arguments or envs
    # equivalent to options/flags definitions
    parameters:
      type: "object"
      properties:
        query:
          type: "string"
          description: "The search query string"
        max_results:
          type: "integer"
          description: "Maximum number of results to return"
          default: 7
      required:
        - query
    # message, instruction, context can refernece all envs and args
    message: |
      #!
      ## Message/Query

      Parameters (default):
        max_results: {{.max_results}}

      Environment:
        original_query: {{.original_query}}
        nickname: {{.nickname}}
        city: {{.city}}
        zip: {{.zip}}

      Arguments:
        home_addr: {{.home_addr}}
        max_history: {{.max_history}}
        max_time: {{.max_time}}

      Preset:
        workspace: {{.workspace}}
        user: {{.user.Email}}
        kit: {{.kit}}
        agent: {{.pack}}/{{.name}}

      {{date}}

      Global:
      ---
      {{printenv}}
      ---
    #
    instruction: |
      #!
      ## Instruction/Prompt

      Parameters (default):
        max_results: {{.max_results}}

      Environment:
        original_query: {{.original_query}}
        nickname: {{.nickname}}
        city: {{.city}}
        zip: {{.zip}}

      Arguments:
        home_addr: {{.home_addr}}
        max_history: {{.max_history}}
        max_time: {{.max_time}}

      Preset:
        workspace: {{.workspace}}
        user: {{.user.Email}}
        kit: {{.kit}}
        agent: {{.pack}}/{{.name}}
      
      {{date}}

      Global:
      ---
      {{printenv}}
      ---

    context: |
      #!
      ## Context/History

      Parameters (default):
        max_results: {{.max_results}}

      Environment:
        original_query: {{.original_query}}
        nickname: {{.nickname}}
        city: {{.city}}
        zip: {{.zip}}

      Arguments:
        home_addr: {{.home_addr}}
        max_history: {{.max_history}}
        max_time: {{.max_time}}

      Preset:
        workspace: {{.workspace}}
        user: {{.user.Email}}
        kit: {{.kit}}
        agent: {{.pack}}/{{.name}}

      {{date}}

      Global:
      ---
      {{printenv}}
      ---

# kit: "test"
# type: "func"
# tools:
#   - name: "test"
#     description: |
#       Search the web using available search tools and return formatted results
#     parameters:
#       type: "object"
#       properties:
#         query:
#           type: "string"
#           description: "The search query string"
#         max_results:
#           type: "integer"
#           description: "Maximum number of results to return"
#           default: 5
#           minimum: 1
#           maximum: 10
#       required:
#         - query

## models
set: "default"
models:
  any:
    provider: "openai"
    base_url: "https://api.openai.com/v1/"
    api_key: "openai"
    model: "gpt-4o-mini"
    # model: "gpt-4.1"
    # model: "o4-mini"
###
