## agent pack
pack: "test"
model: "default/any"

max_history: 1
max_time: 900

agents:
  - name: "test"
    display: "ðŸš€ Script Test"
    description: |
      Test global envs, agent envs, args, and params.
    # environment var can reference global envs
    # env var is exported
    # equivalent to "sh:set_envs" after applying templates
    environment:
      # sh:set_envs --datetime=$(date)
      datetime: "{{.datetime}}"
      nickname: "Charles"
      city: "SFO"
      zip: 1234567
    # arguments can reference global env (and agent envs)
    # equivalent to command line options.
    arguments:
      home_addr: "Addr: {{.city}} {{.zip}}"
      output: "file:/tmp/test.txt"
    # no template is allowed for parameters
    # defaults in parameters are passed as default values for the arguments/properties if not set in arguments or envs
    # equivalent to command line options/flags definitions
    parameters:
      type: "object"
      properties:
        query:
          type: "string"
          description: "The search query string"
        max_results:
          type: "integer"
          description: "Maximum number of results to return"
          default: 20
      required:
        - query
    # message, instruction, context can refernece all envs and args
    message: |
      #! --mime-type=text/x-go-template
      ## Message/Query

      Parameters (default):
        max_results: {{.max_results}}

      Environment:
        datetime: {{.datetime}}
        nickname: {{.nickname}}
        city: {{.city}}
        zip: {{.zip}}

      Arguments:
        home_addr: {{.home_addr}}
        max_history: {{.max_history}}
        max_time: {{.max_time}}

      Preset:
        workspace: {{basename .workspace}}
        user: {{.user.Display}}
        kit: {{.kit}}
        agent: {{.pack}}/{{.name}}
      --------
    instruction: |
      #! --mime-type=text/x-go-template
      ## Instruction/Prompt

      Parameters (default):
        max_results: {{.max_results}}

      Environment:
        datetime: {{.datetime}}
        nickname: {{.nickname}}
        city: {{.city}}
        zip: {{.zip}}

      Arguments:
        home_addr: {{.home_addr}}
        max_history: {{.max_history}}
        max_time: {{.max_time}}

      Preset:
        workspace: {{basename .workspace}}
        user: {{.user.Display}}
        kit: {{.kit}}
        agent: {{.pack}}/{{.name}}
      --------
    context: |
      #! --mime-type=text/x-go-template
      ## Context/History

      Parameters (default):
        max_results: {{.max_results}}

      Environment:
        datetime: {{.datetime}}
        nickname: {{.nickname}}
        city: {{.city}}
        zip: {{.zip}}

      Arguments:
        home_addr: {{.home_addr}}
        max_history: {{.max_history}}
        max_time: {{.max_time}}

      Preset:
        workspace: {{basename .workspace}}
        user: {{.user.Display}}
        kit: {{.kit}}
        agent: {{.pack}}/{{.name}}
      --------
    entry:
    exit:
    advices:
      before:
      around:
      after:
###
